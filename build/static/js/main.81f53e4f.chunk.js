(this["webpackJsonprayat-news-admin-panel"]=this["webpackJsonprayat-news-admin-panel"]||[]).push([[0],{186:function(e,a,t){e.exports=t(236)},191:function(e,a,t){},195:function(e,a,t){},235:function(e,a,t){},236:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(20),r=t.n(c),o=t(32),s=t(33),i=t(35),u=t(34),m=t(53),d=t(26),p=(t(100),t(191),t(8)),E=t(163),h=t(59),f=t(14),b=t(15),g=t(13),y=t(277),v=(t(139),t(195),"https://rnews.5techg.com/api/news"),C=t(273),w=t(71),O=t.n(w),S=t(16);var N=function(){var e=Object(n.useState)(""),a=Object(p.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(""),o=Object(p.a)(r,2),s=o[0],i=o[1],u=Object(n.useState)(""),m=Object(p.a)(u,2),v=m[0],w=m[1],N=Object(n.useState)(!1),j=Object(p.a)(N,2),I=j[0],D=j[1],k=Object(n.useState)(!1),x=Object(p.a)(k,2),U=x[0],F=x[1];return l.a.createElement("div",{className:"main"},function(){if(I)return l.a.createElement(d.a,{to:{pathname:"/newsManager",state:{email:t,userRole:v}}})}(),l.a.createElement("h3",{className:"heading pb-4"},"RAYAT NEWS ADMIN PANEL"),l.a.createElement(C.a,{className:"pt-5 pb-5 pl-3 pr-3 login-temp",style:{boxShadow:"0px 0px 30px 0px rgba(30, 23, 16, 0.2)"}},l.a.createElement("div",{className:"text-center mb-3"},l.a.createElement(f.a,{size:"3x",className:"mb-2",icon:b.h}),l.a.createElement("h5",{className:"sub-head"},"Admin Login")),l.a.createElement(E.a,{onSubmit:function(e){F(!0),e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:'SELECT * from admin where userName="'.concat(t,'" and password="').concat(s,'" and userStatus=1;')};S.post("https://rnews.5techg.com/api/news/executeQuery",a).then((function(e){e.data.length>0?(w(e.data[0].userRole),O.a.set("publisher",e.data[0].name),setTimeout((function(){D(!0)}),2e3)):(F(!1),Object(g.b)("Incorrect username and password"))})).catch((function(e){return console.log(e)}))}},l.a.createElement(E.a.Group,{controlId:"formBasicEmail"},l.a.createElement(E.a.Label,null,"Email"),l.a.createElement(E.a.Control,{type:"email",placeholder:"Enter username here",value:t,onChange:function(e){return c(e.target.value)},style:{fontSize:"15px"},required:!0})),l.a.createElement(E.a.Group,{controlId:"formBasicPassword"},l.a.createElement(E.a.Label,null,"Password"),l.a.createElement(E.a.Control,{type:"password",placeholder:"Enter your password here",value:s,onChange:function(e){return i(e.target.value)},style:{fontSize:"15px"},required:!0})),l.a.createElement(h.a,{variant:"primary btn-block",type:"submit"},"Log In")),U?l.a.createElement(y.a,{color:"secondary"}):null),l.a.createElement("span",{style:{color:"#fff",marginTop:"10px"}},"Powered by 5TechG Team"),l.a.createElement(g.a,{position:g.b.POSITION.TOP_RIGHT,autoClose:8e3}))},j=t(148),I=t(106),D=t(281),k=t(289),x=t(286),U=t(288),F=t(152),T=t(29),G=t.n(T),L=t(130),B=t(296),P=t(283),R=t(284),A=t(285),H=t(282),M=t(290),q=t(169),Y=t(291),z=t(292),Q=t(293),_=t(38),V=t(295),W=t(168);var J=function(){return l.a.createElement("div",{className:"w-100 mt-1 pb-2"},l.a.createElement("h5",null,l.a.createElement("small",null,l.a.createElement("span",{className:"text-muted"},"Dashboard /")," ",l.a.createElement("span",{style:{color:"rgb(95, 95, 240)"}},"News Manager"))))},Z=t(162),X=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={modal:!1},n}return Object(s.a)(t,[{key:"onHandle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this,a=this.props.news,t=a.newsId,n=a.imageUrl,c=a.title,r=a.description,o=a.date,s=a.sourceName,i=a.categoryName,u=a.publisher;return l.a.createElement("div",null,l.a.createElement(h.a,{onClick:function(){e.onHandle()},className:"mx-1",variant:"outline-primary btn-sm"},l.a.createElement(f.a,{icon:b.c})),l.a.createElement(Z.a,{show:this.state.modal,onHide:function(){e.onHandle()},size:"banner"===r?"md":"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement("div",{ref:function(a){return e.componentRef=a}},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"contained-modal-title-vcenter"},"News Overview")),l.a.createElement(Z.a.Body,null,"banner"===r?l.a.createElement(E.a,null,l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Banner ID"),l.a.createElement(E.a.Control,{type:"text",value:t,readOnly:!0}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Posted At"),l.a.createElement(E.a.Control,{type:"text",value:G()(o).format("Do MMM YYYY HH:mm A"),readOnly:!0})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Title"),l.a.createElement(E.a.Control,{type:"text",value:c,readOnly:!0})))),l.a.createElement(j.a,null,l.a.createElement(I.a,{style:{display:"grid",placeItems:"center"}},l.a.createElement("img",{alt:"image-banner"+t,src:"https://rnews.5techg.com/api/news/RayatNews-backend_node-master/"+n,height:"200",width:"400",style:{objectFit:"contain"}})))):l.a.createElement(E.a,null,l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"News ID"),l.a.createElement(E.a.Control,{type:"text",value:t,readOnly:!0}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Category"),l.a.createElement(E.a.Control,{type:"text",value:i,readOnly:!0}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Posted At"),l.a.createElement(E.a.Control,{type:"text",value:G()(o).format("Do MMM YYYY HH:mm A"),readOnly:!0})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Title"),l.a.createElement(E.a.Control,{type:"text",value:c,readOnly:!0})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Description"),l.a.createElement(E.a.Control,{as:"textarea",rows:"5",value:r,readOnly:!0})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Source Name"),l.a.createElement(E.a.Control,{type:"text",value:null===s?"Source not specified":s,readOnly:!0}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Published By"),l.a.createElement(E.a.Control,{type:"text",value:null===u?"Publisher not specified":u,readOnly:!0})))),l.a.createElement(j.a,null,l.a.createElement(I.a,{style:{display:"grid",placeItems:"center"}},l.a.createElement("img",{alt:"image-banner"+t,src:"https://rnews.5techg.com/api/news/RayatNews-backend_node-master/"+n,height:"250",width:"500",style:{objectFit:"contain"}}))))))))}}]),t}(n.Component),$=t(149),K=t(10),ee=t.n(K),ae=t(16);var te=function(e){var a=Object(n.useState)(!1),t=Object(p.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)("Choose File"),d=Object(p.a)(m,2),y=d[0],C=d[1],w=Object(n.useState)(!1),O=Object(p.a)(w,2),S=O[0],N=O[1],D=Object(n.useState)(""),k=Object(p.a)(D,2),x=k[0],U=k[1],F={};function T(){r(!c)}function G(e){F[e.target.name]=e.target.value,console.log(F)}function L(a){if(!(Object.keys(F).length<1&&""===x)){var t="";for(var n in F)t+=n+'="'+F[n]+'", ';""!==x&&(t+=' imageUrl="'.concat(x,'"')),""===x&&(t=t.slice(0,-2));var l="UPDATE news SET ";l=l+t+" WHERE newsId="+e.news.newsId,console.log(l);var c={crossDomain:!0,crossOrigin:!0,query:l};ae.post("https://rnews.5techg.com/api/news/executeQuery",c).then((function(a){ee.a.fire({icon:"success",title:"News updated successfully",showCloseButton:!0}),e.newsStateUpdater(),r(!1)})).catch((function(e){ee.a.fire({title:"Record failed to update !",html:"<p> error: "+e+"</p> ",showCloseButton:!0})}))}}var B=e.news,P=B.newsId,R=B.title,A=B.description,H=B.status,M=B.categoryName,q=B.sourceName;return l.a.createElement("div",null,l.a.createElement(h.a,{onClick:T,variant:"outline-info btn-sm",className:"mx-1"},l.a.createElement(f.a,{icon:b.d})),l.a.createElement(Z.a,{show:c,onHide:T,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"contained-modal-title-vcenter"},"Update News")),l.a.createElement(Z.a.Body,null,"banner"===A?l.a.createElement("div",null,l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Banner ID"),l.a.createElement(E.a.Control,{type:"text",value:P,readOnly:!0}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(E.a.Label,null,"Status"),l.a.createElement(E.a.Control,{as:"select",defaultValue:H,name:"status",onChange:G},l.a.createElement("option",{value:"0"},"Removed"),l.a.createElement("option",{value:"1"},"Published"),l.a.createElement("option",{value:"2"},"Drafted"),l.a.createElement("option",{value:"4"},"Advertise_Notification"),l.a.createElement("option",{value:"5"},"Notification_1"),l.a.createElement("option",{value:"6"},"Notification_2"))))),l.a.createElement(h.a,{variant:"primary btn-sm",style:{float:"right"},onClick:L},l.a.createElement(f.a,{icon:b.g})," Save")):l.a.createElement("div",null,l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"News ID"),l.a.createElement(E.a.Control,{type:"text",value:P,readOnly:!0}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Category"),l.a.createElement(E.a.Control,{type:"text",value:M,readOnly:!0}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(E.a.Label,null,"Status"),l.a.createElement(E.a.Control,{as:"select",defaultValue:H,name:"status",onChange:G},l.a.createElement("option",{value:"0"},"Removed"),l.a.createElement("option",{value:"1"},"Published"),l.a.createElement("option",{value:"2"},"Drafted"),l.a.createElement("option",{value:"4"},"Advertise_Notification"),l.a.createElement("option",{value:"5"},"Notification_1"),l.a.createElement("option",{value:"6"},"Notification_2"))))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Title"),l.a.createElement(E.a.Control,{type:"text",defaultValue:R,name:"title",onChange:G,maxLength:"75"})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Description"),l.a.createElement(E.a.Control,{as:"textarea",rows:"5",defaultValue:A,name:"description",onChange:G,maxLength:"400"})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Source Name"),l.a.createElement(E.a.Control,{type:"text",name:"sourceName",defaultValue:q,onChange:G})))),l.a.createElement(j.a,{className:"border mx-0 mb-3 py-2",style:{borderRadius:"5px"}},l.a.createElement(I.a,{md:8},l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Change Image"),l.a.createElement(E.a.File,{id:"custom-file",label:y,custom:!0,required:!0,onChange:function(e){u(e.target.files[0]),C(e.target.files[0].name)}}))),l.a.createElement(I.a,{md:2},l.a.createElement(E.a.Group,{className:"mt-4 pt-2"},l.a.createElement(h.a,{variant:""===x?"primary btn-block":"success btn-block",disabled:""===i,onClick:function(){return function(){N(!0);var e=new FormData;e.append("file",i),ae.post("".concat(v,"/upload"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),U(e.data.filePath),N(!1),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0}),N(!1)}))}()}},S?l.a.createElement($.a,{animation:"border",size:"sm"}):""===x?"Upload":l.a.createElement(f.a,{icon:b.b})))),l.a.createElement(I.a,{md:2},l.a.createElement(E.a.Group,{className:"mt-4 pt-2"},l.a.createElement(h.a,{variant:"danger btn-block",disabled:""===i,onClick:function(){U(""),u(""),C("Choose File")}},"Clear")))),l.a.createElement(h.a,{variant:"primary btn-sm",style:{float:"right"},onClick:L},l.a.createElement(f.a,{icon:b.g})," Save")))))},ne=t(151),le=(t(150),t(16));function ce(){var e=l.a.useState(null),a=Object(p.a)(e,2),t=a[0],n=a[1],c=l.a.useState(null),r=Object(p.a)(c,2),o=r[0],s=r[1],i=v+"/executeQuery",u=[{crossDomain:!0,crossOrigin:!0,query:"SELECT count(newsId) AS totalNews FROM news;"},{crossDomain:!0,crossOrigin:!0,query:"SELECT count(newsId) AS todaysNews FROM news where date like '".concat(G()(new Date).format("YYYY-MM-DD"),"%';")}];return le.post(i,u[0]).then((function(e){n(e.data[0].totalNews)})).catch((function(e){return console.log(e)})),le.post(i,u[1]).then((function(e){s(e.data[0].todaysNews)})).catch((function(e){return console.log(e)})),l.a.createElement("div",{className:"container py-0 pl-1 pr-0",style:{borderRadius:"5px"}},l.a.createElement(ne.a,{className:"m-0 p-1"},l.a.createElement(ne.a.Body,{className:"m-0 p-1"},l.a.createElement("h6",null,"Today's Total News"),l.a.createElement(h.a,{variant:"info",size:"sm",block:!0},null===o?l.a.createElement($.a,{animation:"border",size:"sm"}):o))),l.a.createElement(ne.a,{className:"my-0 p-1 mt-1"},l.a.createElement(ne.a.Body,{className:"m-0 p-1"},l.a.createElement("h6",null,"Total News Posted"),l.a.createElement(h.a,{size:"sm",block:!0},t||l.a.createElement($.a,{animation:"border",size:"sm"})))))}var re=t(16),oe=t.n(re),se=t(279),ie=t(280),ue=t(278),me=Object(ue.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var de=function(e){var a=e.id,t=me(),c=Object(n.useState)(!1),r=Object(p.a)(c,2),o=r[0],s=r[1],i=Object(n.useState)(!1),u=Object(p.a)(i,2),m=u[0],d=u[1],E=function(){d(!m)};return l.a.createElement("div",null,l.a.createElement(h.a,{onClick:E,className:"mx-1",variant:"outline-primary btn-sm"},l.a.createElement(f.a,{icon:b.a})),l.a.createElement(Z.a,{show:m,onHide:E,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"contained-modal-title-vcenter"},"Confirmation")),l.a.createElement(Z.a.Body,null,l.a.createElement("p",{className:"m-0 p-0"},"Do you really want to send notification to user ?")),l.a.createElement(Z.a.Footer,null,l.a.createElement(h.a,{variant:"danger btn-sm",style:{float:"right"},onClick:E},"Cancel"),l.a.createElement(h.a,{variant:"primary btn-sm",style:{float:"right"},onClick:function(){s(!0);var e=JSON.stringify({id:a}),t={method:"post",url:v+"/send",headers:{"Content-Type":"application/json"},data:e};oe()(t).then((function(e){d(!1),s(!1),ee.a.fire({icon:"success",title:"Notification sent!",showCloseButton:!0})})).catch((function(e){d(!1),s(!1),ee.a.fire({title:"Failed to send Notification!",html:"<p> error: "+e+"</p> ",showCloseButton:!0})}))}},"Send"))),l.a.createElement(se.a,{className:t.backdrop,open:o,onClick:function(){s(!1)}},l.a.createElement(ie.a,{color:"inherit"})))},pe=t(31),Ee=t.n(pe),he=t(51),fe=t(16);var be=function(e){var a=Object(n.useState)(!1),t=Object(p.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(p.a)(m,2),y=d[0],C=d[1],w=Object(n.useState)(""),S=Object(p.a)(w,2),N=S[0],k=S[1],x=Object(n.useState)(""),U=Object(p.a)(x,2),F=U[0],T=U[1],R=Object(n.useState)(""),A=Object(p.a)(R,2),M=A[0],q=A[1],Y=Object(n.useState)(2),z=Object(p.a)(Y,2),Q=z[0],_=z[1],V=Object(n.useState)(null),W=Object(p.a)(V,2),J=W[0],X=W[1],K=Object(n.useState)(null),ae=Object(p.a)(K,2),te=ae[0],ne=ae[1],le=Object(n.useState)(1),ce=Object(p.a)(le,2),re=ce[0],oe=ce[1],se=Object(n.useState)([]),ie=Object(p.a)(se,2),ue=ie[0],me=ie[1],de=Object(n.useState)(""),pe=Object(p.a)(de,2),be=pe[0],ge=pe[1],ye=Object(n.useState)("Choose File"),ve=Object(p.a)(ye,2),Ce=ve[0],we=ve[1],Oe=Object(n.useState)(!1),Se=Object(p.a)(Oe,2),Ne=Se[0],je=Se[1],Ie=Object(n.useState)(!1),De=Object(p.a)(Ie,2),ke=De[0],xe=De[1],Ue=Object(n.useState)(i.length),Fe=Object(p.a)(Ue,2),Te=Fe[0],Ge=Fe[1],Le=Object(n.useState)(N.length),Be=Object(p.a)(Le,2),Pe=Be[0],Re=Be[1],Ae=Object(n.useState)("1"),He=Object(p.a)(Ae,2),Me=He[0],qe=He[1],Ye=function(){u(""),X(""),C(""),ge(""),we("Choose File"),k(""),T(""),_(2)};function ze(){r(!c);var e={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM category"};fe.post("https://rnews.5techg.com/api/news/executeQuery",e).then((function(e){me(e.data)})).catch((function(e){}))}var Qe=function(){xe(!0);var e=new FormData;e.append("file",be),fe.post("".concat(v,"/upload"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),C(e.data.filePath),xe(!1),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0}),xe(!1)}))};function _e(){return(_e=Object(he.a)(Ee.a.mark((function a(t){var n,l,c,o;return Ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),je(!0),"3"===Q&&(n="CREATE EVENT IF NOT EXISTS test_event_".concat(Math.floor(1e3*Math.random()+1)," ON SCHEDULE at current_timestamp() + INTERVAL ").concat(te,' MINUTE DO UPDATE news set status=1 where title="').concat(i,'"; '),v+"/executeQuery",l={crossDomain:!0,crossOrigin:!0,query:n},fe.post("https://rnews.5techg.com/api/news/executeQuery",l).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))),G()(new Date).format("YYYY-MM-DD HH:mm:ss"),c='INSERT INTO news (title,imageUrl,description,source,categoryId,status,sourceName,publisher) VALUES("'.concat(i,'","').concat(y,'","').concat(N,'","').concat(F,'",').concat(re,",").concat(Q,',"').concat(M,'","').concat(O.a.get("publisher"),'")'),console.log(c),v+"/executeQuery",o={crossDomain:!0,crossOrigin:!0,query:c},fe.post("https://rnews.5techg.com/api/news/executeQuery",o).then((function(a){ee.a.fire({icon:"success",title:"News Added successfully",showCloseButton:!0}),console.log(a),e.newsStateUpdater(),r(!1),je(!1)})).catch((function(e){ee.a.fire({title:"Failed to post news",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0}),je(!1)}));case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function Ve(){return(Ve=Object(he.a)(Ee.a.mark((function a(t){var n,l,c,o,s;return Ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),je(!0),"3"===Q&&(n="CREATE EVENT IF NOT EXISTS test_event_".concat(Math.floor(1e3*Math.random()+1)," ON SCHEDULE at current_timestamp() + INTERVAL ").concat(te,' MINUTE DO UPDATE news set status=1 where title="').concat(i,'"; '),v+"/executeQuery",l={crossDomain:!0,crossOrigin:!0,query:n},fe.post("https://rnews.5techg.com/api/news/executeQuery",l).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))),c=G()(new Date).format("YYYY-MM-DD HH:mm:ss"),o='INSERT INTO news (title,imageUrl,description,date,status) VALUES("'.concat(i,'","').concat(y,'","banner","').concat(c,'",').concat(Q,")"),v+"/executeQuery",s={crossDomain:!0,crossOrigin:!0,query:o},fe.post("https://rnews.5techg.com/api/news/executeQuery",s).then((function(a){ee.a.fire({icon:"success",title:"Banner Added successfully",showCloseButton:!0}),e.newsStateUpdater(),r(!1),je(!1)})).catch((function(e){ee.a.fire({title:"Failed to Add banner post",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0}),je(!1)}));case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return l.a.createElement("div",null,l.a.createElement(h.a,{onClick:ze,variant:"info",className:"mx-0"},l.a.createElement(f.a,{icon:b.e})),l.a.createElement(Z.a,{show:c,onHide:ze,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"contained-modal-title-vcenter"},"Welcome ",O.a.get("publisher"))),l.a.createElement(Z.a.Body,null,l.a.createElement(L.a,{value:Me,className:"container-fluid border m-0 p-0 main"},l.a.createElement(D.a,{position:"static",color:"primary"},l.a.createElement(B.a,{onChange:function(e,a){qe(a)},"aria-label":"simple tabs example",indicatorColor:"secondary",textColor:"default"},l.a.createElement(H.a,{label:"News Post",value:"1"}),l.a.createElement(H.a,{label:"Banner Post",value:"2"}))),l.a.createElement(P.a,{value:"1",className:"mt-2 p-0"},l.a.createElement("form",{onSubmit:function(e){return _e.apply(this,arguments)}},l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Category"),l.a.createElement(E.a.Control,{as:"select",value:re,name:"categoryId",required:!0,onChange:function(e){return oe(e.target.value)}},ue&&ue.map((function(e){return l.a.createElement("option",{value:e.categoryId},e.categoryName)}))))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(E.a.Label,null,"Status"),l.a.createElement(E.a.Control,{as:"select",value:Q,name:"status",required:!0,onChange:function(e){return _(e.target.value)}},l.a.createElement("option",{value:"1"},"Published"),l.a.createElement("option",{value:"2"},"Drafted"),l.a.createElement("option",{value:"3"},"Scheduled"),l.a.createElement("option",{value:"4"},"Advertise_Notification"),l.a.createElement("option",{value:"5"},"Notification_1"),l.a.createElement("option",{value:"6"},"Notification_2"))))),"3"===Q?l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Schedule time"),l.a.createElement("br",null),l.a.createElement(E.a.Control,{value:J,type:"datetime-local",onChange:function(e){var a=G()(new Date),t=G()(e.target.value);X(e.target.value),console.log(t);var n=t.diff(a,"minutes");ne(n)}})))):null,l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Title ",l.a.createElement("small",null," ",75-Te+"/75")),l.a.createElement(E.a.Control,{type:"text",value:i,placeholder:"Enter news title here",name:"title",required:!0,onChange:function(e){u(e.target.value),Ge(i.length)},maxLength:"76"})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Description ",l.a.createElement("small",null," ",400-Pe+"/400")," "),l.a.createElement(E.a.Control,{as:"textarea",rows:"5",value:N,placeholder:"Enter news description here",name:"description",required:!0,onChange:function(e){k(e.target.value),Re(N.length)},maxLength:"400"})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Source Link"),l.a.createElement(E.a.Control,{type:"text",value:F,placeholder:"Enter news source link here",name:"source",onChange:function(e){return T(e.target.value)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Source Name *"),l.a.createElement(E.a.Control,{type:"text",value:M,required:!0,placeholder:"Enter news source name here",name:"sourceName",onChange:function(e){return q(e.target.value)}})))),l.a.createElement(j.a,{className:"border mx-0 mb-3 py-2",style:{borderRadius:"5px"}},l.a.createElement(I.a,{md:8},l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Image"),l.a.createElement(E.a.File,{id:"custom-file",label:Ce,custom:!0,required:!0,onChange:function(e){ge(e.target.files[0]),we(e.target.files[0].name)}}))),l.a.createElement(I.a,{md:2},l.a.createElement(E.a.Group,{className:"mt-4 pt-2"},l.a.createElement(h.a,{variant:""===y?"primary btn-block":"success btn-block",disabled:""===be,onClick:function(){return Qe()}},ke?l.a.createElement($.a,{animation:"border",size:"sm"}):""===y?"Upload":l.a.createElement(f.a,{icon:b.b})))),l.a.createElement(I.a,{md:2},l.a.createElement(E.a.Group,{className:"mt-4 pt-2"},l.a.createElement(h.a,{variant:"danger btn-block",disabled:""===be,onClick:function(){C(""),ge(""),we("Choose File")}},"Clear")))),l.a.createElement(h.a,{variant:"primary mt-2",style:{float:"right"},type:"submit",disabled:""===y},Ne?l.a.createElement($.a,{animation:"border",size:"sm"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{icon:b.g})," Post")),l.a.createElement(h.a,{onClick:Ye,variant:"dark mt-2 mr-2\t",style:{float:"right"}},"Clear"))),l.a.createElement(P.a,{value:"2",className:"mt-2 p-0"},l.a.createElement("form",{onSubmit:function(e){return Ve.apply(this,arguments)}},l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Title"),l.a.createElement(E.a.Control,{type:"text",value:i,placeholder:"Enter news title here",name:"title",onChange:function(e){u(e.target.value)},required:!0})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(E.a.Label,null,"Status"),l.a.createElement(E.a.Control,{as:"select",value:Q,name:"status",required:!0,onChange:function(e){return _(e.target.value)}},l.a.createElement("option",{value:"1"},"Published"),l.a.createElement("option",{value:"2"},"Drafted"),l.a.createElement("option",{value:"3"},"Scheduled")))),"3"===Q?l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Schedule time"),l.a.createElement("br",null),l.a.createElement(E.a.Control,{value:J,type:"datetime-local",onChange:function(e){X(e.target.value);var a=G()(new Date),t=G()(e.target.value).diff(a,"minutes");ne(t)}}))):null),l.a.createElement(j.a,{className:"mb-3"},l.a.createElement(I.a,{md:8},l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Image"),l.a.createElement(E.a.File,{id:"custom-file",label:Ce,custom:!0,required:!0,onChange:function(e){ge(e.target.files[0]),we(e.target.files[0].name)}}))),l.a.createElement(I.a,{md:2},l.a.createElement(E.a.Group,{className:"mt-4 pt-2"},l.a.createElement(h.a,{variant:""===y?"primary btn-block":"success btn-block",disabled:""===be,onClick:function(){return Qe()}},ke?l.a.createElement($.a,{animation:"border",size:"sm"}):""===y?"Upload":l.a.createElement(f.a,{icon:b.b})))),l.a.createElement(I.a,{md:2},l.a.createElement(E.a.Group,{className:"mt-4 pt-2"},l.a.createElement(h.a,{variant:"danger btn-block",disabled:""===be,onClick:function(){C(""),ge(""),we("Choose File")}},"Clear")))),l.a.createElement(h.a,{variant:"primary mt-2",style:{float:"right"},type:"submit",disabled:""===y},Ne?l.a.createElement($.a,{animation:"border",size:"sm"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{icon:b.g})," Post")),l.a.createElement(h.a,{onClick:Ye,variant:"dark mt-2 mr-2\t",style:{float:"right"}},"Clear")))))),l.a.createElement(g.a,{position:g.b.POSITION.TOP_RIGHT,autoClose:8e3}))},ge=t(16),ye=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleTabs=function(e,a){n.setState({value:a})},n.state={Pnews:[],Dnews:[],Snews:[],Rnews:[],value:"1",isLoading:!1,scheduleTime:null,date:G()(new Date).format("YYYY-MM-DD")},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this;this.setState({isLoading:!0});var a="Select n.*,c.categoryName from news AS n inner join category AS c on n.categoryId = c.categoryId and status in(1,4,5,6) and date like '".concat(G()(this.state.date).format("YYYY-MM-DD"),"%' order by newsId DESC;"),t="Select n.*,c.categoryName from news AS n inner join category AS c on n.categoryId = c.categoryId and status in(2) and date like '".concat(G()(this.state.date).format("YYYY-MM-DD"),"%' order by newsId DESC;");console.log(a);var n="Select n.*,c.categoryName from news AS n inner join category AS c on n.categoryId = c.categoryId and status in (0) and date like '".concat(G()(this.state.date).format("YYYY-MM-DD"),"%' order by newsId DESC;"),l=v+"/executeQuery",c=[{crossDomain:!0,crossOrigin:!0,query:a},{crossDomain:!0,crossOrigin:!0,query:t},{crossDomain:!0,crossOrigin:!0,query:"Select n.*,c.categoryName from news AS n inner join category AS c on n.categoryId = c.categoryId and status in (3) order by newsId DESC;"},{crossDomain:!0,crossOrigin:!0,query:n}];ge.post(l,c[0]).then((function(a){e.setState({Pnews:a.data}),e.setState({isLoading:!1})})).catch((function(e){return console.log(e)})),ge.post(l,c[1]).then((function(a){e.setState({Dnews:a.data})})).catch((function(e){return console.log(e)})),ge.post(l,c[2]).then((function(a){e.setState({Snews:a.data})})).catch((function(e){return console.log(e)})),ge.post(l,c[3]).then((function(a){e.setState({Rnews:a.data})})).catch((function(e){return console.log(e)}))}},{key:"extractData",value:function(e){var a=this;return e.map((function(e,t){return l.a.createElement(R.a,{key:e.newsId,style:"banner"===e.description?{backgroundColor:"rgb(254, 255, 185)"}:null},l.a.createElement(A.a,null,t+1),l.a.createElement(A.a,null,l.a.createElement("b",null,e.title.slice(0,50),"...")),l.a.createElement(A.a,{align:"right"},"banner"===e.description?"Banner Post":e.categoryName),l.a.createElement(A.a,null,G()(e.date).format("DD-MM-YYYY hh:mm A")),l.a.createElement(A.a,null,1===e.status?l.a.createElement(F.a,{variant:"success"},"Published"):2===e.status?l.a.createElement(F.a,{variant:"dark"},"Drafted"):3===e.status?l.a.createElement(F.a,{variant:"warning"},"Scheduled"):4===e.status?l.a.createElement(F.a,{variant:"success"},"Advertise_Image"):5===e.status?l.a.createElement(F.a,{variant:"success"},"Published(Noti_1)"):6===e.status?l.a.createElement(F.a,{variant:"success"},"Published(Noti_2)"):l.a.createElement(F.a,{variant:"danger"},"Removed")),l.a.createElement(A.a,{className:"d-flex"},l.a.createElement(X,{news:e}),l.a.createElement(te,{news:e,newsStateUpdater:function(){a.fetchData()}}),1===e.status||4===e.status||5===e.status||6===e.status?l.a.createElement(de,{id:e.newsId}):null))}))}},{key:"render",value:function(){var e=this;return l.a.createElement(j.a,{className:"mt-1 ml-0 mr-0 mb-0 p-0"},l.a.createElement(I.a,{className:"col-md-10 border m-0 px-2 py-2",style:{borderRadius:"5px"}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{flexGrow:"1"}},l.a.createElement(J,null)),l.a.createElement("div",{className:"mb-2",style:{display:"flex",alignItems:"center"}},l.a.createElement(_.a,{utils:W.a},l.a.createElement(V.a,{autoOk:!0,label:"Date",inputVariant:"outlined",InputAdornmentProps:{position:"start"},clearable:!0,orientation:"landscape",size:"small",disableFuture:!0,value:this.state.date,onChange:function(a){return e.setState({date:a})}})),l.a.createElement(h.a,{variant:"dark btn-sm",className:"ml-2",onClick:function(){return e.fetchData()}},"Search"))),l.a.createElement(L.a,{value:this.state.value,className:"container-fluid border m-0 p-0 main"},l.a.createElement(D.a,{position:"static",color:"default"},l.a.createElement(B.a,{onChange:this.handleTabs,"aria-label":"simple tabs example",indicatorColor:"primary",textColor:"primary"},l.a.createElement(H.a,{label:"Published",value:"1"}),l.a.createElement(H.a,{label:"Drafts",value:"2"}),l.a.createElement(H.a,{label:"Scheduled",value:"3"}),l.a.createElement(H.a,{label:"Removed",value:"4"}))),this.state.isLoading?l.a.createElement(y.a,{color:"secondary"}):null,l.a.createElement(P.a,{value:"1",className:"mt-2 p-0"},this.state.Pnews.length>0?l.a.createElement(M.a,{component:q.a,style:{maxHeight:"74vh"}},l.a.createElement(Y.a,{id:"workers_table",stickyHeader:!0,"aria-label":"simple table",component:q.a},l.a.createElement(z.a,null,l.a.createElement(R.a,null,l.a.createElement(A.a,null,"News Id"),l.a.createElement(A.a,null,"Heading"),l.a.createElement(A.a,{align:"right"},"Category"),l.a.createElement(A.a,null,"Date"),l.a.createElement(A.a,null,"Status"),l.a.createElement(A.a,null,"Options"))),l.a.createElement(Q.a,null,this.extractData(this.state.Pnews)))):l.a.createElement("div",{style:{minHeight:"74vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,"You don't have any Published news available"))),l.a.createElement(P.a,{value:"2",className:"mt-2 p-0"},this.state.Dnews.length>0?l.a.createElement(M.a,{component:q.a,style:{maxHeight:"74vh"}},l.a.createElement(Y.a,{id:"workers_table",stickyHeader:!0,"aria-label":"simple table",component:q.a},l.a.createElement(z.a,null,l.a.createElement(R.a,null,l.a.createElement(A.a,null,"News Id"),l.a.createElement(A.a,null,"Heading"),l.a.createElement(A.a,null,"Category"),l.a.createElement(A.a,null,"Date"),l.a.createElement(A.a,null,"Status"),l.a.createElement(A.a,null,"Options"))),l.a.createElement(Q.a,null,this.extractData(this.state.Dnews)))):l.a.createElement("div",{style:{minHeight:"74vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,"You don't have any Drafts news available"))),l.a.createElement(P.a,{value:"3",className:"mt-2 p-0"},this.state.Snews.length>0?l.a.createElement(M.a,{component:q.a,style:{maxHeight:"74vh"}},l.a.createElement(Y.a,{id:"workers_table",stickyHeader:!0,"aria-label":"simple table",component:q.a},l.a.createElement(z.a,null,l.a.createElement(R.a,null,l.a.createElement(A.a,null,"News Id"),l.a.createElement(A.a,null,"Heading"),l.a.createElement(A.a,null,"Category"),l.a.createElement(A.a,null,"Date"),l.a.createElement(A.a,null,"Status"),l.a.createElement(A.a,null,"Options"))),l.a.createElement(Q.a,null,this.extractData(this.state.Snews)))):l.a.createElement("div",{style:{minHeight:"74vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,"You don't have any Scheduled news available"))),l.a.createElement(P.a,{value:"4",className:"mt-2 p-0"},this.state.Rnews.length>0?l.a.createElement(M.a,{component:q.a,style:{maxHeight:"74vh"}},l.a.createElement(Y.a,{id:"workers_table",stickyHeader:!0,"aria-label":"simple table",component:q.a},l.a.createElement(z.a,null,l.a.createElement(R.a,null,l.a.createElement(A.a,null,"News Id"),l.a.createElement(A.a,null,"Heading"),l.a.createElement(A.a,null,"Category"),l.a.createElement(A.a,null,"Date"),l.a.createElement(A.a,null,"Status"),l.a.createElement(A.a,null,"Options"))),l.a.createElement(Q.a,null,this.extractData(this.state.Rnews)))):l.a.createElement("div",{style:{minHeight:"74vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,"You don't have any Removed news available"))))),l.a.createElement(I.a,{className:"col-md-2 m-0 p-0",style:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between"}},l.a.createElement(ce,null),l.a.createElement("div",null,l.a.createElement("div",{className:"mb-5 mt-3",style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row"}},l.a.createElement(be,{newsStateUpdater:function(){e.fetchData()}}),l.a.createElement(h.a,{variant:"dark",className:"ml-2",onClick:function(){return e.fetchData()}},l.a.createElement(f.a,{icon:b.f}))),"Powered by 5TechG")))}}]),t}(n.Component);var ve=function(){return l.a.createElement("div",{className:"w-100 mt-1"},l.a.createElement("h5",null,l.a.createElement("small",null,l.a.createElement("span",{className:"text-muted"},"Dashboard /")," ",l.a.createElement("span",{style:{color:"rgb(95, 95, 240)"}},"Category Manager"))))};var Ce=function(e){var a=e.category,t=a.categoryId,n=a.categoryName,c=e.categoryStateUpdater,r=l.a.useState(!1),o=Object(p.a)(r,2),s=o[0],i=o[1],u={};function m(){i(!1)}return l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-info btn-sm btn-block",onClick:function(){i(!0)}},l.a.createElement(f.a,{icon:b.d})),l.a.createElement(Z.a,{show:s,onHide:m,size:"lg"},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,null,"Update News Categories")),l.a.createElement(Z.a.Body,null,l.a.createElement("form",null,l.a.createElement("div",{className:"border p-3"},l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Category Id"),l.a.createElement("input",{type:"text",defaultValue:t,className:"form-control",readOnly:!0}))),l.a.createElement(I.a,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Category Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"categoryName",defaultValue:n,onChange:function(e){u[e.target.name]=e.target.value,console.log(u)}}))))))),l.a.createElement(Z.a.Footer,null,l.a.createElement("button",{onClick:function(e){if(!(Object.keys(u).length<1)){var a="";for(var n in u)a+=n+'="'+u[n]+'", ';a=a.slice(0,-2);var l="UPDATE category SET ",r={crossDomain:!0,crossOrigin:!0,query:l=l+a+" WHERE categoryId="+t};oe.a.post("https://rnews.5techg.com/api/news/executeQuery",r).then((function(e){ee.a.fire({icon:"success",title:"Category updated successfully",showCloseButton:!0}),c(),m()})).catch((function(e){ee.a.fire({title:"Record failed to update !",html:"<p> error: "+e+"</p> ",showCloseButton:!0})}))}},className:"btn btn-primary btn-sm m-1"},l.a.createElement(f.a,{icon:b.g})," Save"))))},we=t(16);var Oe=function(e){var a=Object(n.useState)(!1),t=Object(p.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(!1),d=Object(p.a)(m,2),g=d[0],y=d[1];function C(){r(!c)}function w(){return(w=Object(he.a)(Ee.a.mark((function a(t){var n,l;return Ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),y(!0),n='INSERT INTO category (categoryName) VALUES("'.concat(i,'")'),v+"/executeQuery",l={crossDomain:!0,crossOrigin:!0,query:n},we.post("https://rnews.5techg.com/api/news/executeQuery",l).then((function(a){ee.a.fire({icon:"success",title:"Category Added successfully",showCloseButton:!0}),e.categoryStateUpdater(),r(!1),y(!1)})).catch((function(e){ee.a.fire({title:"Failed to add category",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0}),y(!1)}));case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return l.a.createElement("div",null,l.a.createElement(h.a,{onClick:C,variant:"info btn-sm",className:"mx-0"},l.a.createElement(f.a,{icon:b.e})," Add Category"),l.a.createElement(Z.a,{show:c,onHide:C,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"contained-modal-title-vcenter"},"Add New Category")),l.a.createElement(Z.a.Body,null,l.a.createElement("form",{onSubmit:function(e){return w.apply(this,arguments)}},l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Category Name"),l.a.createElement(E.a.Control,{type:"text",value:i,placeholder:"Enter category here",required:!0,onChange:function(e){return u(e.target.value)}})))),l.a.createElement(h.a,{variant:"primary btn-block mt-2",type:"submit"},g?l.a.createElement($.a,{animation:"border",size:"sm"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{icon:b.g})," Save"))))))},Se=t(16),Ne=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this)).state={totalCategories:0},n}return Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container m-0 px-1"},l.a.createElement(ne.a,{className:"mb-2"},l.a.createElement(ne.a.Body,{className:"m-0 p-1"},l.a.createElement("h6",null,"Total Categories"),l.a.createElement(h.a,{size:"sm",block:!0},this.state.totalCategories?this.state.totalCategories:l.a.createElement($.a,{animation:"border",size:"sm"})))))}},{key:"componentDidMount",value:function(){var e=this;Se.post("https://rnews.5techg.com/api/news/executeQuery",{query:"SELECT COUNT(*) as total FROM category;"}).then((function(a){e.setState({totalCategories:a.data[0].total})})).catch((function(e){console.log("counter error: ",e)}))}}]),t}(n.Component),je=t(85),Ie=t.n(je),De=t(16);window.JSZip=Ie.a;var ke=t(22);ke.DataTable=t(28),t(44),t(153),t(154),t(155),t(156),t(157),t(158),t(159),t(160),t(161);var xe=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).state={data:[]},e}return Object(s.a)(t,[{key:"fetchData",value:function(){var e=this,a={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM category;"};De.post("https://rnews.5techg.com/api/news/executeQuery",a).then((function(a){e.setState({data:a.data})})).catch((function(e){return console.log(e)}))}},{key:"renderCategories",value:function(){var e=this;return this.state.data.map((function(a){return l.a.createElement("tr",{key:a.categoryId},l.a.createElement("td",null,a.categoryId),l.a.createElement("td",null,a.categoryName),l.a.createElement("td",null,l.a.createElement(Ce,{category:a,categoryStateUpdater:function(){return e.fetchData()}})))}))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return l.a.createElement(j.a,{className:"mt-1 ml-0 mr-0 mb-0 p-0"},l.a.createElement(I.a,{className:"col-md-10 border m-0 pt-1 px-2",style:{borderRadius:"5px",minHeight:"80vh"}},l.a.createElement(ve,null),l.a.createElement("hr",{className:"m-0 mb-1 p-0"}),l.a.createElement("div",{className:"d-flex"},l.a.createElement(Oe,{categoryStateUpdater:function(){e.fetchData()}}),l.a.createElement(h.a,{variant:"dark btn-sm",className:"ml-2",onClick:function(){e.fetchData()}},l.a.createElement(f.a,{icon:b.f}))),l.a.createElement("div",{className:"container p-0"},0===this.state.data.length?l.a.createElement("div",{style:{minHeight:"80vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(ie.a,null)):l.a.createElement("table",{id:"userListTable",className:"table table-sm table-striped table-bordered w-100"},l.a.createElement("thead",{id:"header"},l.a.createElement("tr",null,l.a.createElement("th",null,"Category Id"),l.a.createElement("th",null,"Category Name"),l.a.createElement("th",null,"Options"))),l.a.createElement("tr",null,l.a.createElement("th",null,"Category Id"),l.a.createElement("th",null,"Category Name"),l.a.createElement("th",null,"Options")),l.a.createElement("tbody",null,this.renderCategories())))),l.a.createElement(I.a,{className:"col-md-2 m-0 p-0"},l.a.createElement(Ne,null)))}},{key:"componentWillReceiveProps",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){var e=ke("#userListTable").DataTable({destroy:!0,responsive:!0,keys:!0,dom:"<'row mb-2'<'col-sm-9' >><'row'<'col-sm-12' tr>><p>",columns:[{width:"20%"},{width:"90%"},{width:"20%",searchable:!1,orderable:!1}]});ke("#header th").each((function(){var e=ke(this).text();ke(this).html('<input type="text" placeholder="Search '+e+'" class="form-control"/>')})),e.order.listener("#columnNames",1),e.columns().every((function(){var e=this;return ke("input",this.header()).on("keyup change clear",(function(){e.search()!==this.value&&e.search(this.value).draw()})),null}))}},{key:"componentWillUnmount",value:function(){ke("#userListTable").DataTable().destroy(!0)}}]),t}(n.Component);var Ue=function(){return l.a.createElement("div",{className:"w-100 mt-1"},l.a.createElement("h5",null,l.a.createElement("small",null,l.a.createElement("span",{className:"text-muted"},"Dashboard /")," ",l.a.createElement("span",{style:{color:"rgb(95, 95, 240)"}},"Gallery Manager"))))};var Fe=function(e){var a=e.gallery,t=a.galleryId,c=a.galleryName,r=a.galleryImage,o=a.gi1,s=a.gi2,i=a.gi3,u=a.gi4,m=a.gi5,d=a.gi6,y=a.gi7,C=a.gi8,w=a.gi9,O=a.gi10,S=a.gi11,N=a.gi12,D=a.gi13,k=a.gi14,x=a.gi15,U=e.galleryStateUpdater,F=l.a.useState(!1),T=Object(p.a)(F,2),G=T[0],L=T[1],B=Object(n.useState)(!1),P=Object(p.a)(B,2),R=(P[0],P[1],Object(n.useState)(c)),A=Object(p.a)(R,2),H=A[0],M=A[1],q=Object(n.useState)(!1),Y=Object(p.a)(q,2),z=Y[0],Q=Y[1],_=Object(n.useState)(r),V=Object(p.a)(_,2),W=V[0],J=V[1],X=Object(n.useState)(o),K=Object(p.a)(X,2),ae=K[0],te=K[1],ne=Object(n.useState)(s),le=Object(p.a)(ne,2),ce=le[0],re=le[1],se=Object(n.useState)(i),ie=Object(p.a)(se,2),ue=ie[0],me=ie[1],de=Object(n.useState)(u),pe=Object(p.a)(de,2),fe=pe[0],be=pe[1],ge=Object(n.useState)(m),ye=Object(p.a)(ge,2),ve=ye[0],Ce=ye[1],we=Object(n.useState)(d),Oe=Object(p.a)(we,2),Se=Oe[0],Ne=Oe[1],je=Object(n.useState)(y),Ie=Object(p.a)(je,2),De=Ie[0],ke=Ie[1],xe=Object(n.useState)(C),Ue=Object(p.a)(xe,2),Fe=Ue[0],Te=Ue[1],Ge=Object(n.useState)(w),Le=Object(p.a)(Ge,2),Be=Le[0],Pe=Le[1],Re=Object(n.useState)(O),Ae=Object(p.a)(Re,2),He=Ae[0],Me=Ae[1],qe=Object(n.useState)(S),Ye=Object(p.a)(qe,2),ze=Ye[0],Qe=Ye[1],_e=Object(n.useState)(N),Ve=Object(p.a)(_e,2),We=Ve[0],Je=Ve[1],Ze=Object(n.useState)(D),Xe=Object(p.a)(Ze,2),$e=Xe[0],Ke=Xe[1],ea=Object(n.useState)(k),aa=Object(p.a)(ea,2),ta=aa[0],na=aa[1],la=Object(n.useState)(x),ca=Object(p.a)(la,2),ra=ca[0],oa=ca[1];function sa(){L(!1)}function ia(){return(ia=Object(he.a)(Ee.a.mark((function e(a){var n,l;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),Q(!0),n='update gallery set galleryName = "'.concat(H,'",galleryImage = "').concat(W,'",gi1 = "').concat(ae,'",gi2 = "').concat(ce,'",gi3 = "').concat(ue,'",gi4 = "').concat(fe,'",gi5 = "').concat(ve,'",gi6 = "').concat(Se,'",gi7 = "').concat(De,'",gi8 = "').concat(Fe,'",gi9 = "').concat(Be,'",gi10 = "').concat(He,'",gi11 = "').concat(ze,'",gi12 = "').concat(We,'",gi13 = "').concat($e,'",gi14 = "').concat(ta,'",gi15 = "').concat(ra,'" where galleryId = "').concat(t,'" ; '),v+"/executeQuery",l={crossDomain:!0,crossOrigin:!0,query:n},oe.a.post("https://rnews.5techg.com/api/news/executeQuery",l).then((function(e){ee.a.fire({icon:"success",title:"Gallery Updated successfully",showCloseButton:!0}),U(),sa(),Q(!1)})).catch((function(e){ee.a.fire({title:"Failed to add gallery",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0}),Q(!1)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-info btn-sm btn-block",onClick:function(){L(!0)}},l.a.createElement(f.a,{icon:b.d})),l.a.createElement(Z.a,{show:G,onHide:sa,size:"lg"},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,null,"Update News Categories")),l.a.createElement(Z.a.Body,null,l.a.createElement("form",{onSubmit:function(e){return ia.apply(this,arguments)}},l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"gallery Name"),l.a.createElement(E.a.Control,{type:"text",value:H,placeholder:"Enter Gallery Name here",required:!0,onChange:function(e){return M(e.target.value)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image"),l.a.createElement(E.a.File,{id:"custom-file",label:W,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),J(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 1"),l.a.createElement(E.a.File,{id:"custom-file",label:ae,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),te(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 2"),l.a.createElement(E.a.File,{id:"custom-file",label:ce,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),re(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 3"),l.a.createElement(E.a.File,{id:"custom-file",label:ue,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),me(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 4"),l.a.createElement(E.a.File,{id:"custom-file",label:fe,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),be(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 5"),l.a.createElement(E.a.File,{id:"custom-file",label:ve,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Ce(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 6"),l.a.createElement(E.a.File,{id:"custom-file",label:Se,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Ne(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 7"),l.a.createElement(E.a.File,{id:"custom-file",label:De,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),ke(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 8"),l.a.createElement(E.a.File,{id:"custom-file",label:Fe,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Te(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 9"),l.a.createElement(E.a.File,{id:"custom-file",label:Be,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Pe(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 10"),l.a.createElement(E.a.File,{id:"custom-file",label:He,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Me(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 11"),l.a.createElement(E.a.File,{id:"custom-file",label:ze,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Qe(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 12"),l.a.createElement(E.a.File,{id:"custom-file",label:We,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Je(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 13"),l.a.createElement(E.a.File,{id:"custom-file",label:$e,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Ke(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 14"),l.a.createElement(E.a.File,{id:"custom-file",label:ta,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),na(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 15"),l.a.createElement(E.a.File,{id:"custom-file",label:ra,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),oe.a.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),oa(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(h.a,{variant:"primary btn-block mt-2",type:"submit"},z?l.a.createElement($.a,{animation:"border",size:"sm"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{icon:b.g})," Save"))))))},Te=t(16);var Ge=function(e){var a=Object(n.useState)(!1),t=Object(p.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(!1),d=Object(p.a)(m,2),y=d[0],C=d[1],w=Object(n.useState)(""),O=Object(p.a)(w,2),S=O[0],N=O[1],D=Object(n.useState)(""),k=Object(p.a)(D,2),x=k[0],U=k[1],F=Object(n.useState)(""),T=Object(p.a)(F,2),G=T[0],L=T[1],B=Object(n.useState)(""),P=Object(p.a)(B,2),R=P[0],A=P[1],H=Object(n.useState)(""),M=Object(p.a)(H,2),q=M[0],Y=M[1],z=Object(n.useState)(""),Q=Object(p.a)(z,2),_=Q[0],V=Q[1],W=Object(n.useState)(""),J=Object(p.a)(W,2),X=J[0],K=J[1],ae=Object(n.useState)(""),te=Object(p.a)(ae,2),ne=te[0],le=te[1],ce=Object(n.useState)(""),re=Object(p.a)(ce,2),oe=re[0],se=re[1],ie=Object(n.useState)(""),ue=Object(p.a)(ie,2),me=ue[0],de=ue[1],pe=Object(n.useState)(""),fe=Object(p.a)(pe,2),be=fe[0],ge=fe[1],ye=Object(n.useState)(""),ve=Object(p.a)(ye,2),Ce=ve[0],we=ve[1],Oe=Object(n.useState)(""),Se=Object(p.a)(Oe,2),Ne=Se[0],je=Se[1],Ie=Object(n.useState)(""),De=Object(p.a)(Ie,2),ke=De[0],xe=De[1],Ue=Object(n.useState)(""),Fe=Object(p.a)(Ue,2),Ge=Fe[0],Le=Fe[1],Be=Object(n.useState)(""),Pe=Object(p.a)(Be,2),Re=Pe[0],Ae=Pe[1];function He(){r(!c)}function Me(){return(Me=Object(he.a)(Ee.a.mark((function a(t){var n,l;return Ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),C(!0),n='INSERT INTO gallery (galleryName,galleryImage,gi1,gi2,gi3,gi4,gi5,gi6,gi7,gi8,gi9,gi10,gi11,gi12,gi13,gi14,gi15) VALUES("'.concat(i,'","').concat(S,'","').concat(x,'","').concat(G,'","').concat(R,'","').concat(q,'","').concat(_,'","').concat(X,'","').concat(ne,'","').concat(oe,'","').concat(me,'","').concat(be,'","').concat(Ce,'","').concat(Ne,'","').concat(ke,'","').concat(Ge,'","').concat(Re,'")'),v+"/executeQuery",l={crossDomain:!0,crossOrigin:!0,query:n},Te.post("https://rnews.5techg.com/api/news/executeQuery",l).then((function(a){ee.a.fire({icon:"success",title:"gallery Added successfully",showCloseButton:!0}),e.galleryStateUpdater(),r(!1),C(!1)})).catch((function(e){ee.a.fire({title:"Failed to add gallery",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0}),C(!1)}));case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return l.a.createElement("div",null,l.a.createElement(h.a,{onClick:He,variant:"info btn-sm",className:"mx-0"},l.a.createElement(f.a,{icon:b.e})," Add gallery"),l.a.createElement(Z.a,{show:c,onHide:He,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"contained-modal-title-vcenter"},"Add New gallery")),l.a.createElement(Z.a.Body,null,l.a.createElement("form",{onSubmit:function(e){return Me.apply(this,arguments)}},l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"gallery Name"),l.a.createElement(E.a.Control,{type:"text",value:i,placeholder:"Enter Gallery Name here",required:!0,onChange:function(e){return u(e.target.value)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image"),l.a.createElement(E.a.File,{id:"custom-file",label:S,custom:!0,required:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),N(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 1"),l.a.createElement(E.a.File,{id:"custom-file",label:x,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),U(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 2"),l.a.createElement(E.a.File,{id:"custom-file",label:G,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),L(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 3"),l.a.createElement(E.a.File,{id:"custom-file",label:R,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),A(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 4"),l.a.createElement(E.a.File,{id:"custom-file",label:q,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Y(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 5"),l.a.createElement(E.a.File,{id:"custom-file",label:_,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),V(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 6"),l.a.createElement(E.a.File,{id:"custom-file",label:X,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),K(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 7"),l.a.createElement(E.a.File,{id:"custom-file",label:ne,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),le(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 8"),l.a.createElement(E.a.File,{id:"custom-file",label:oe,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),se(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 9"),l.a.createElement(E.a.File,{id:"custom-file",label:me,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),de(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 10"),l.a.createElement(E.a.File,{id:"custom-file",label:be,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),ge(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 11"),l.a.createElement(E.a.File,{id:"custom-file",label:Ce,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),we(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 12"),l.a.createElement(E.a.File,{id:"custom-file",label:Ne,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),je(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 13"),l.a.createElement(E.a.File,{id:"custom-file",label:ke,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),xe(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Gallery Image 14"),l.a.createElement(E.a.File,{id:"custom-file",label:Ge,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Le(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null," Gallery Image 15"),l.a.createElement(E.a.File,{id:"custom-file",label:Re,custom:!0,onChange:function(e){!function(e){var a=new FormData;a.append("file",e.target.files[0]),Te.post("".concat(v,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),Ae(e.data.filePath),g.b.success("Image Uploaded successfully")})).catch((function(e){ee.a.fire({title:"Failed to Upload image",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0})}))}(e)}})))),l.a.createElement(h.a,{variant:"primary btn-block mt-2",type:"submit"},y?l.a.createElement($.a,{animation:"border",size:"sm"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{icon:b.g})," Save"))))))},Le=t(16),Be=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this)).state={totalCategories:0},n}return Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container m-0 px-1"},l.a.createElement(ne.a,{className:"mb-2"},l.a.createElement(ne.a.Body,{className:"m-0 p-1"},l.a.createElement("h6",null,"Total Gallery"),l.a.createElement(h.a,{size:"sm",block:!0},this.state.totalCategories?this.state.totalCategories:l.a.createElement($.a,{animation:"border",size:"sm"})))))}},{key:"componentDidMount",value:function(){var e=this;Le.post("https://rnews.5techg.com/api/news/executeQuery",{query:"SELECT COUNT(*) as total FROM gallery;"}).then((function(a){e.setState({totalCategories:a.data[0].total})})).catch((function(e){console.log("counter error: ",e)}))}}]),t}(n.Component),Pe=t(16);window.JSZip=Ie.a;var Re=t(22);Re.DataTable=t(28),t(44),t(153),t(154),t(155),t(156),t(157),t(158),t(159),t(160),t(161);var Ae=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).state={data:[]},e}return Object(s.a)(t,[{key:"fetchData",value:function(){var e=this,a={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM gallery;"};Pe.post("https://rnews.5techg.com/api/news/executeQuery",a).then((function(a){e.setState({data:a.data})})).catch((function(e){return console.log(e)}))}},{key:"renderCategories",value:function(){var e=this;return this.state.data.map((function(a){return l.a.createElement("tr",{key:a.galleryId},l.a.createElement("td",null,a.galleryId),l.a.createElement("td",null,a.galleryName),l.a.createElement("td",null,l.a.createElement(Fe,{gallery:a,galleryStateUpdater:function(){return e.fetchData()}})))}))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return l.a.createElement(j.a,{className:"mt-1 ml-0 mr-0 mb-0 p-0"},l.a.createElement(I.a,{className:"col-md-10 border m-0 pt-1 px-2",style:{borderRadius:"5px",minHeight:"80vh"}},l.a.createElement(Ue,null),l.a.createElement("hr",{className:"m-0 mb-1 p-0"}),l.a.createElement("div",{className:"d-flex"},l.a.createElement(Ge,{galleryStateUpdater:function(){e.fetchData()}}),l.a.createElement(h.a,{variant:"dark btn-sm",className:"ml-2",onClick:function(){e.fetchData()}},l.a.createElement(f.a,{icon:b.f}))),l.a.createElement("div",{className:"container p-0"},0===this.state.data.length?l.a.createElement("div",{style:{minHeight:"80vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(ie.a,null)):l.a.createElement("table",{id:"userListTable",className:"table table-sm table-striped table-bordered w-100"},l.a.createElement("thead",{id:"header"},l.a.createElement("tr",null,l.a.createElement("th",null,"gallery Id"),l.a.createElement("th",null,"gallery Name"),l.a.createElement("th",null,"Options"))),l.a.createElement("tr",null,l.a.createElement("th",null,"gallery Id"),l.a.createElement("th",null,"gallery Name"),l.a.createElement("th",null,"Options")),l.a.createElement("tbody",null,this.renderCategories())))),l.a.createElement(I.a,{className:"col-md-2 m-0 p-0"},l.a.createElement(Be,null)))}},{key:"componentWillReceiveProps",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){var e=Re("#userListTable").DataTable({destroy:!0,responsive:!0,keys:!0,dom:"<'row mb-2'<'col-sm-9' >><'row'<'col-sm-12' tr>><p>",columns:[{width:"20%"},{width:"90%"},{width:"20%",searchable:!1,orderable:!1}]});Re("#header th").each((function(){var e=Re(this).text();Re(this).html('<input type="text" placeholder="Search '+e+'" class="form-control"/>')})),e.order.listener("#columnNames",1),e.columns().every((function(){var e=this;return Re("input",this.header()).on("keyup change clear",(function(){e.search()!==this.value&&e.search(this.value).draw()})),null}))}},{key:"componentWillUnmount",value:function(){Re("#userListTable").DataTable().destroy(!0)}}]),t}(n.Component);var He=function(){return l.a.createElement("div",{className:"w-100 mt-1"},l.a.createElement("h5",null,l.a.createElement("small",null,l.a.createElement("span",{className:"text-muted"},"Dashboard /")," ",l.a.createElement("span",{style:{color:"rgb(95, 95, 240)"}},"User Manager"))))},Me=t(16);var qe=function(e){var a=Object(n.useState)(!1),t=Object(p.a)(a,2),c=t[0],r=t[1],o={};function s(){r(!c)}function i(e){o[e.target.name]=e.target.value,console.log(o)}var u=e.user,m=u.id,d=u.name,g=u.userName,y=u.password,v=u.userStatus,C=u.userRole;return l.a.createElement("div",null,l.a.createElement(h.a,{onClick:s,variant:"info btn-sm btn-block",disabled:"0"!==e.currentUserRole&&e.currentUser!==g},l.a.createElement(f.a,{icon:b.d})),l.a.createElement(Z.a,{show:c,onHide:s,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"contained-modal-title-vcenter"},"Update User")),l.a.createElement(Z.a.Body,null,l.a.createElement("div",null,l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"User ID"),l.a.createElement(E.a.Control,{type:"text",value:m,readOnly:!0})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Publisher Name"),l.a.createElement(E.a.Control,{type:"text",defaultValue:d,name:"name",onChange:i})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Email"),l.a.createElement(E.a.Control,{type:"text",defaultValue:g,name:"userName",onChange:i}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Password"),l.a.createElement(E.a.Control,{type:"text",defaultValue:y,name:"password",onChange:i})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(E.a.Label,null,"User Role"),l.a.createElement(E.a.Control,{as:"select",defaultValue:C,name:"userRole",onChange:i,disabled:"0"!==e.currentUserRole},l.a.createElement("option",{value:"0"},"Admin User"),l.a.createElement("option",{value:"1"},"Normal User")))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(E.a.Label,null,"User Status"),l.a.createElement(E.a.Control,{as:"select",defaultValue:v,name:"userStatus",onChange:i,disabled:"0"!==e.currentUserRole},l.a.createElement("option",{value:"0"},"Disabled"),l.a.createElement("option",{value:"1"},"Enabled"))))),l.a.createElement(h.a,{variant:"primary btn-sm",style:{float:"right"},onClick:function(a){if(!(Object.keys(o).length<1)){var t="";for(var n in o)t+=n+'="'+o[n]+'", ';var l="UPDATE admin SET ";l=l+(t=t.slice(0,-2))+" WHERE id="+e.user.id;var c={crossDomain:!0,crossOrigin:!0,query:l};Me.post("https://rnews.5techg.com/api/news/executeQuery",c).then((function(a){ee.a.fire({icon:"success",title:"News updated successfully",showCloseButton:!0}),e.userStateUpdater(),r(!1)})).catch((function(e){ee.a.fire({title:"Record failed to update !",html:"<p> error: "+e+"</p> ",showCloseButton:!0})}))}}},l.a.createElement(f.a,{icon:b.g})," Save")))))},Ye=t(16);function ze(){var e=l.a.useState(null),a=Object(p.a)(e,2),t=a[0],n=a[1],c=l.a.useState(null),r=Object(p.a)(c,2),o=r[0],s=r[1],i=l.a.useState(null),u=Object(p.a)(i,2),m=u[0],d=u[1],E=v+"/executeQuery",f=[{crossDomain:!0,crossOrigin:!0,query:"SELECT count(id) AS totalUsers FROM admin;"},{crossDomain:!0,crossOrigin:!0,query:"SELECT count(id) AS totalActive FROM admin WHERE userStatus=1;"},{crossDomain:!0,crossOrigin:!0,query:"SELECT count(id) AS totalAdmin FROM admin WHERE userRole=0;"}];return Ye.post(E,f[0]).then((function(e){n(e.data[0].totalUsers)})).catch((function(e){return console.log(e)})),Ye.post(E,f[1]).then((function(e){s(e.data[0].totalActive)})).catch((function(e){return console.log(e)})),Ye.post(E,f[2]).then((function(e){d(e.data[0].totalAdmin)})).catch((function(e){return console.log(e)})),l.a.createElement("div",{className:"container py-0 pl-1 pr-0",style:{borderRadius:"5px"}},l.a.createElement(ne.a,{className:"m-0 p-1"},l.a.createElement(ne.a.Body,{className:"m-0 p-1"},l.a.createElement("h6",null,"Total Users"),l.a.createElement(h.a,{variant:"info",size:"sm",block:!0},null===t?l.a.createElement($.a,{animation:"border",size:"sm"}):t))),l.a.createElement(ne.a,{className:"my-0 p-1 mt-1"},l.a.createElement(ne.a.Body,{className:"m-0 p-1"},l.a.createElement("h6",null,"Active Users"),l.a.createElement(h.a,{size:"sm",block:!0},o||l.a.createElement($.a,{animation:"border",size:"sm"})))),l.a.createElement(ne.a,{className:"my-0 p-1 mt-1"},l.a.createElement(ne.a.Body,{className:"m-0 p-1"},l.a.createElement("h6",null,"Admin Users"),l.a.createElement(h.a,{variant:"warning",size:"sm",block:!0},m||l.a.createElement($.a,{animation:"border",size:"sm"})))))}var Qe=t(16);var _e=function(e){var a=Object(n.useState)(!1),t=Object(p.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(p.a)(m,2),g=d[0],y=d[1],C=Object(n.useState)(""),w=Object(p.a)(C,2),O=w[0],S=w[1],N=Object(n.useState)(1),D=Object(p.a)(N,2),k=D[0],x=D[1],U=Object(n.useState)(!1),F=Object(p.a)(U,2),T=F[0],G=F[1];function L(){r(!c)}function B(){return(B=Object(he.a)(Ee.a.mark((function a(t){var n,l;return Ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),G(!0),n='INSERT INTO admin (name,userName,password,userRole) VALUES("'.concat(g,'","').concat(i,'","').concat(O,'",').concat(k,")"),v+"/executeQuery",l={crossDomain:!0,crossOrigin:!0,query:n},Qe.post("https://rnews.5techg.com/api/news/executeQuery",l).then((function(a){ee.a.fire({icon:"success",title:"User Added successfully",showCloseButton:!0}),e.userStateUpdater(),r(!1),G(!1)})).catch((function(e){ee.a.fire({title:"Failed to add user",html:"<p>please check your Internet Connection!</p> ",showCloseButton:!0}),G(!1)}));case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return l.a.createElement("div",null,l.a.createElement(h.a,{onClick:L,variant:"info btn-sm",className:"mx-0",disabled:"0"!==e.currentUserRole},l.a.createElement(f.a,{icon:b.e})," Add User"),l.a.createElement(Z.a,{show:c,onHide:L,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"contained-modal-title-vcenter"},"Add User")),l.a.createElement(Z.a.Body,null,l.a.createElement("form",{onSubmit:function(e){return B.apply(this,arguments)}},l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"User Role"),l.a.createElement(E.a.Control,{as:"select",value:k,required:!0,onChange:function(e){return x(e.target.value)}},l.a.createElement("option",{value:"1"},"Normal User"),l.a.createElement("option",{value:"0"},"Admin User")))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Email"),l.a.createElement(E.a.Control,{type:"email",value:i,placeholder:"Enter email here",required:!0,onChange:function(e){return u(e.target.value)}})))),l.a.createElement(j.a,null,l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Publisher Name"),l.a.createElement(E.a.Control,{type:"text",value:g,placeholder:"Enter publisher name here",required:!0,onChange:function(e){return y(e.target.value)}}))),l.a.createElement(I.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Password"),l.a.createElement(E.a.Control,{type:"password",value:O,placeholder:"Enter password here",required:!0,onChange:function(e){return S(e.target.value)}})))),l.a.createElement(h.a,{variant:"primary btn-block mt-2",type:"submit"},T?l.a.createElement($.a,{animation:"border",size:"sm"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{icon:b.g})," Save"))))))},Ve=t(16);window.JSZip=Ie.a;var We=t(22);We.DataTable=We.DataTable=t(28),t(23),t(44),t(230),t(231),t(232),t(233),t(234);var Je=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={users:[],currentUser:n.props.match.params.email,role:n.props.match.params.role},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,a={crossDomain:!0,crossOrigin:!0,query:"Select * from admin;"};Ve.post("https://rnews.5techg.com/api/news/executeQuery",a).then((function(a){e.setState({users:a.data})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(){this.$el=We(this.el);var e=this.$el.DataTable({destroy:!0,autoWidth:!1,responsive:!0,keys:!0,dom:"<'row mb-2'<'col-sm-9'>><'row'<'col-sm-12' tr>><p>",columns:[{title:"User Id",width:"8%"},{title:"Name",width:"20%"},{title:"Email",width:"30%"},{title:"User Role",width:"15%"},{title:"User Status",width:"15%"},{title:"Options",width:"10%",searchable:!1,orderable:!1}]});We("#example thead th").each((function(){var e=We(this).text();We(this).html('<input type="text" placeholder="Search '+e+'" class="form-control" />')})),e.columns().every((function(){var e=this;return We("input",this.header()).on("keyup change clear",(function(){e.search()!==this.value&&e.search(this.value).draw()})),0}))}},{key:"extractData",value:function(){var e=this;return this.state.users.map((function(a){return l.a.createElement("tr",{key:a.id},l.a.createElement("td",null,a.id),l.a.createElement("td",null,l.a.createElement("b",null,a.name)),l.a.createElement("td",null,l.a.createElement("b",null,a.userName)),l.a.createElement("td",null,1===a.userRole?l.a.createElement(F.a,{variant:"primary"},"Normal User"):l.a.createElement(F.a,{variant:"dark"},"Admin User")),l.a.createElement("td",null,1===a.userStatus?l.a.createElement(F.a,{variant:"success"},"Active User"):l.a.createElement(F.a,{variant:"danger"},"Disabled")),l.a.createElement("td",null,l.a.createElement(qe,{user:a,currentUser:e.state.currentUser,currentUserRole:e.state.role,userStateUpdater:function(){e.fetchData()}})))}))}},{key:"componentWillUnmount",value:function(){We("#example").DataTable().destroy(!0)}},{key:"render",value:function(){var e=this;return l.a.createElement(j.a,{className:"mt-1 ml-0 mr-0 mb-0 p-0"},l.a.createElement(I.a,{className:"col-md-10 border m-0 pt-1 px-2",style:{borderRadius:"5px",minHeight:"80vh"}},l.a.createElement(He,null),l.a.createElement("hr",{className:"m-0 mb-1 p-0"}),l.a.createElement("div",{className:"d-flex"},l.a.createElement(_e,{currentUserRole:this.state.role,userStateUpdater:function(){e.fetchData()}}),l.a.createElement(h.a,{variant:"dark btn-sm",className:"ml-2",onClick:function(){e.fetchData()}},l.a.createElement(f.a,{icon:b.f}))),this.state.users.length>0?l.a.createElement("table",{id:"example",className:"table table-striped table-sm table-bordered",ref:function(a){return e.el=a}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"User Id"),l.a.createElement("th",null,"Publisher Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"User Role"),l.a.createElement("th",null,"User Status"),l.a.createElement("th",null,"Options"))),l.a.createElement("tr",null,l.a.createElement("th",null,"User Id"),l.a.createElement("th",null,"Publisher Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"User Role"),l.a.createElement("th",null,"User Status"),l.a.createElement("th",null,"Options")),l.a.createElement("tbody",null,this.extractData())):l.a.createElement("div",{style:{minHeight:"80vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(ie.a,null))),l.a.createElement(I.a,{className:"col-md-2 m-0 p-0"},l.a.createElement(ze,null)))}}]),t}(n.Component);var Ze=function(e){return l.a.createElement("div",{className:"container m-0 p-0"},l.a.createElement("div",null,l.a.createElement(ne.a,{border:"primary",className:"mb-2"},l.a.createElement(ne.a.Body,{className:"m-0 p-1"},l.a.createElement("h6",null,"Menu"),l.a.createElement(m.b,{to:"/newsManager"},l.a.createElement(h.a,{variant:"primary",size:"sm",block:!0,className:"mb-2"},"News manager")),l.a.createElement(m.b,{to:"/categoryManager"},l.a.createElement(h.a,{variant:"primary",size:"sm",block:!0,className:"mb-2"},"Category manager")),l.a.createElement(m.b,{to:"/galleryManager"},l.a.createElement(h.a,{variant:"primary",size:"sm",block:!0,className:"mb-2"},"Gallery manager")),l.a.createElement(m.b,{to:"/userManager/".concat(e.email,"/").concat(e.userRole)},l.a.createElement(h.a,{variant:"primary",size:"sm",block:!0,className:"mb-2"},"User manager"))))))},Xe=t(287),$e=t(294);var Ke=function(e){var a=Object(n.useState)(e.location.state),t=Object(p.a)(a,2),c=t[0],r=t[1];if(Object(n.useEffect)((function(){}),[c]),c){var o=c.email,s=c.userRole,i=c.publisher_name;return l.a.createElement(m.a,null,l.a.createElement("div",{className:"container-fluid m-0 p-0"},l.a.createElement(D.a,{position:"static",className:"py-2 bg-primary"},l.a.createElement(k.a,{variant:"dense"},l.a.createElement(U.a,{className:"pl-0 ml-n2",variant:"h6",color:"inherit",style:{flexGrow:1}},"Rayat News Admin Panel"),l.a.createElement("div",null,l.a.createElement(U.a,{variant:"p",className:"mr-2",color:"inherit"},o),l.a.createElement(Xe.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit"},l.a.createElement($e.a,null)),l.a.createElement(x.a,{variant:"default",onClick:function(){O.a.remove("publisher"),r(null)}},"Logout")))),l.a.createElement(j.a,{className:"mx-0 p-0 mt-1"},l.a.createElement(I.a,{className:"col-sm-2 m-0 p-1"},l.a.createElement(Ze,{email:o,userRole:s,publisher_name:i})),l.a.createElement(I.a,{className:"col-sm-10 m-0 p-0"},l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/newsManager",exact:!0,component:ye}),l.a.createElement(d.b,{path:"/categoryManager",exact:!0,component:xe}),l.a.createElement(d.b,{path:"/galleryManager",exact:!0,component:Ae}),l.a.createElement(d.b,{path:"/userManager/:email/:role",exact:!0,component:Je}))))))}return l.a.createElement(d.a,{to:"/"})},ea=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement("div",{className:"container-fluid m-0 p-0"},l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/newsManager",exact:!0,component:Ke}),l.a.createElement(d.b,{path:"/",component:N}))))}}]),t}(n.Component);t(235);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ea,null)),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.81f53e4f.chunk.js.map